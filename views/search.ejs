<div class="col-m-4">
  <h1>Path Search</h1>

  <div class="form-group">
    <input type="text" class="form-control" placeholder="Search" id="path-search-text">
  </div>
  <button type="submit" class="btn btn-default" id="path-search-btn">Submit</button>

  <ul class="search-results">Search Results</ul>
</div>

<div class="col-m-4">
  <h1>Path Search by Blip</h1>

  <div class="form-group">
    <input type="text" class="form-control" placeholder="Search" id="blip-search-text">
  </div>
  <button type="submit" class="btn btn-default" id="blip-search-btn">Submit</button>
</div>

<script>
  // Path Search Logic
  var searchText = $('#path-search-text')
  var $searchButton = $('#path-search-btn')
  var searchResults = $('.search-results')
  $searchButton.on('click', function(evt){
    evt.preventDefault()
    var opts = {
          method: 'post',
          url: '/search',
          contentType: 'application/json',
          data: JSON.stringify({
              name: searchText.val()
          })
      };
      var cb = function(dataTCB) {
          console.log(dataTCB)
          showResults(dataTCB)
      };
      $.ajax(opts)
          .done(cb)
  })
  function showResults(data){
    searchResults.empty()
    data.forEach(function(path){
      var newItem = $('<a>', {
          id: path['_id'],
          class: 'search-result',
          text: (path['name']),
          href: ('/paths/'+path['_id'])
      })
      var newBreak = $('<hr>')
      searchResults.append(newBreak)
      searchResults.append(newItem)
    })
  }
</script>
